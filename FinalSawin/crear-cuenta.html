<!DOCTYPE html>

<html>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Registrarse - Final WEB I </title>
    <link rel="stylesheet" href="assets/bootstrap/css/bootstrap.min.css">
    <link rel="stylesheet" href="assets/fonts/ionicons.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/3.5.2/animate.min.css">
    <link rel="stylesheet" href="assets/css/Login-Form-Clean.css">
    <link rel="stylesheet" href="assets/css/styles.css">
</head>

<body>
    <div class="login-clean">
        <form method="post">
            <h2 class="sr-only">Registrarse</h2>
            <div class="illustration"><i class="icon ion-ios-navigate"></i></div>
            <div class="form-group">
                <input class="form-control" id="username" type="text" name="username" placeholder="Usuario">
            </div>
            <div class="form-group">
                <input class="form-control" id="email" type="email" name="email" placeholder="Email">
            </div>
            <div class="form-group">
                <input class="form-control" id="password" type="password" name="password" placeholder="Contraseña">
            </div>
            <div class="form-group">
                <button class="btn btn-primary btn-block" id="ca" type="button" data-bs-hover-animate="shake">Crear Cuenta</button>
            </div><a href="login.html" class="forgot">¿Ya tiene una cuenta? ¡Haga click aquí!</a></form>
    </div>
    <script src="assets/js/jquery.min.js"></script>
    <script src="assets/bootstrap/js/bootstrap.min.js"></script>
    <script type="text/javascript">
        $('#ca').click(function(){
            
            $.ajax({

                type: "POST", 
                url: "api/users",
                processData: false, 
                contentType: "application/json",
                data:   '{ "username": "'+ $("#username"). val() +'", "email": "'+ $("#email"). val() +'", "password": "'+ $("#password"). val() +'" }',
                success: function(r){
                    window.location.href = "login.html";
                    console.log(r)
                }, 
                error: function(r){
                    setTimeout(function(){
                        $('[data-bs-hover-animate]').removeClass('animated' + $('[data-bs-hover-animate]').attr('data-bs-hover-animate'));
                    }, 2000)
                    $('[data-bs-hover-animate]').addClass('animated ' + $('[data-bs-hover-animate]').attr('data-bs-hover-animate'))
                    console.log(r)
                }
            });
        });
    </script>
</body>
</html>